# 数据结构（三）：栈与队列

### 栈

```python
# 计算器
def cal(s: str) -> int:
	func = {'+':int.__add__,'-':int.__sub__,'*':int.__mul__,'/':lambda x,y:x//y}
	pro = dict(zip('+-*/(','11223'))
	sk,ops = [],[]
	for x,op in re.findall('(\d+)|([-+*/()])',s+'+'):
		if x:
			sk.append(int(x))
		elif op=='(':
			ops.append(op)
		elif op==')':
			while ops[-1] != '(':
				b,a = sk.pop(),sk.pop()
				sk.append(func[ops.pop()](a,b))
			ops.pop()
		else:
			while ops and pro[ops[-1]]<=pro[op]:
				b,a = sk.pop(),sk.pop()
				sk.append(func[ops.pop()](a,b))
			ops.append(op)
	return sk.pop()
```

例题
- {{< lc "0716" >}} 最大栈
语法分析
- {{< lc "0385" >}} 迷你语法分析器
- {{< lc "0394" >}} 字符串解码
- {{< lc "0636" >}} 函数的独占时间
- {{< lc "0735" >}} 行星碰撞
- {{< lc "0880" >}} 索引处的解码字符串
计算器
- {{< lc "0224" >}} 基本计算器
- {{< lc "0227" >}} 基本计算器 II
- {{< lc "0726" >}} 原子的数量
- {{< lc "0770" >}} 基本计算器 IV
括号
- {{< lc "0020" >}} 有效的括号
- {{< lc "1021" >}} 删除最外层的括号
- {{< lc "1249" >}} 移除无效的括号
- {{< lc "0921" >}} 使括号有效的最少添加
- {{< lc "1614" >}} 括号的最大嵌套深度
- {{< lc "0032" >}} 最长有效括号
- {{< lc "0301" >}} 删除无效的括号
- {{< lc "0856" >}} 括号的分数
- {{< lc "1111" >}} 有效括号的嵌套深度
- {{< lc "1190" >}} 反转每对括号间的子串
- {{< lc "0678" >}} 有效的括号字符串
- {{< lc "1541" >}} 平衡括号字符串的最少插入次数

## 单调栈

例题
- {{< lc "0496" >}} 下一个更大元素 I
- {{< lc "0739" >}} 每日温度
- {{< lc "0901" >}} 股票价格跨度
- {{< lc "0084" >}} 柱状图中最大的矩形
- {{< lc "0085" >}} 最大矩形
- {{< lc "0907" >}} 子数组的最小值之和
- {{< lc "0456" >}} 132 模式
- {{< lc "0962" >}} 最大宽度坡
- {{< lc "1124" >}} 表现良好的最长时间段
- {{< lc "1130" >}} 叶值的最小代价生成树
后面最小的更大数
- {{< lc "0975" >}} 奇偶跳


##  单调队列

- {{< lc "0239" >}} 滑动窗口最大值
- {{< lc "0862" >}} 和至少为 K 的最短子数组
- {{< lc "0918" >}} 环形子数组的最大和
- {{< lc "1425" >}} 带限制的子序列和
- {{< lc "1438" >}} 绝对差不超过限制的最长连续子数组
- {{< lc "1499" >}} 满足不等式的最大值
- {{< lc "1696" >}} 跳跃游戏 VI
